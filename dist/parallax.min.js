/*!
 * parallax.js v1.3.3 (http://pixelcog.github.io/parallax.js/)
 * @copyright 2015 PixelCog, Inc.
 * @license MIT (https://github.com/pixelcog/parallax.js/blob/master/LICENSE)
 */
!function(a,b,c,d,e){function f(b,c){var d=this;"object"==typeof c&&(delete c.refresh,delete c.render,a.extend(this,c)),this.ios=navigator.userAgent.match(/(iPod|iPhone|iPad)/),this.android=navigator.userAgent.match(/(Android)/),this.deviceFallback=this.ios&&this.iosFix||this.android&&this.androidFix,this.$element=a(b),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src")),this.responsive&&(this.imageSources=this.$element.find(">span"),this.loadedImages={},this.imageSources.length?this.setResponsiveImageSrc():this.responsive=!1);var g=(this.position+"").toLowerCase().match(/\S+/g)||[];return g.length<1&&g.push("center"),1===g.length&&g.push(g[0]),("top"===g[0]||"bottom"===g[0]||"left"===g[1]||"right"===g[1])&&(g=[g[1],g[0]]),this.positionX!==e&&(g[0]=this.positionX.toLowerCase()),this.positionY!==e&&(g[1]=this.positionY.toLowerCase()),d.positionX=g[0],d.positionY=g[1],"left"!==this.positionX&&"right"!==this.positionX&&(isNaN(parseInt(this.positionX,10))?this.positionX="center":this.positionX=parseInt(this.positionX,10)),"top"!==this.positionY&&"bottom"!==this.positionY&&(isNaN(parseInt(this.positionY,10))?this.positionY="center":this.positionY=parseInt(this.positionY,10)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),this.deviceFallback?(this.$element.css({backgroundImage:'url("'+this.imageSrc+'")',backgroundSize:"cover",backgroundPosition:this.position,backgroundRepeat:"no-repeat"}),f.isSetup||f.setup(),f.sliders.push(d),f.isFresh=!1,f.requestRender(),this):(this.$mirror=a("<div />").prependTo("body"),this.$mirror.addClass("parallax-mirror").css({opacity:0,zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider=a("<img />").prependTo(this.$mirror),this.$slider.addClass("parallax-slider").one("load",function(){d.naturalHeight&&d.naturalWidth||(d.naturalHeight=this.naturalHeight||this.height||1,d.naturalWidth=this.naturalWidth||this.width||1),d.aspectRatio=d.naturalWidth/d.naturalHeight,f.isSetup||f.setup(),f.sliders.push(d),f.isFresh=!1,f.requestRender()}),void(this.responsive||(this.$slider[0].src=this.imageSrc,(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete)&&this.$slider.trigger("load"))))}function g(b){return this.each(function(){var e=a(this),g="object"==typeof b&&b;this===c||this===d||e.is("body")?f.configure(g):e.data("px.parallax")||(g=a.extend({},e.data(),g),e.data("px.parallax",new f(this,g))),"string"==typeof b&&f[b]()})}!function(){for(var a=0,b=["ms","moz","webkit","o"],d=0;d<b.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[b[d]+"RequestAnimationFrame"],c.cancelAnimationFrame=c[b[d]+"CancelAnimationFrame"]||c[b[d]+"CancelRequestAnimationFrame"];c.requestAnimationFrame||(c.requestAnimationFrame=function(b){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=c.setTimeout(function(){b(d+e)},e);return a=d+e,f}),c.cancelAnimationFrame||(c.cancelAnimationFrame=function(a){clearTimeout(a)})}(),a.extend(f.prototype,{speed:.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,responsive:!1,refresh:function(){if(!this.responsive||(this.setResponsiveImageSrc(),!this.deviceFallback)){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var a,b=f.winHeight,c=f.docHeight,d=Math.min(this.boxOffsetTop,c-b),e=Math.max(this.boxOffsetTop+this.boxHeight-b,0),g=this.boxHeight+(d-e)*(1-this.speed)|0,h=(this.boxOffsetTop-d)*(1-this.speed)|0;g*this.aspectRatio>=this.boxWidth?(this.imageWidth=g*this.aspectRatio|0,this.imageHeight=g,this.offsetBaseTop=h,a=this.imageWidth-this.boxWidth,"left"===this.positionX?this.offsetLeft=0:"right"===this.positionX?this.offsetLeft=-a:isNaN(this.positionX)?this.offsetLeft=-a/2|0:this.offsetLeft=Math.max(this.positionX,-a)):(this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0,a=this.imageHeight-g,"top"===this.positionY?this.offsetBaseTop=h:"bottom"===this.positionY?this.offsetBaseTop=h-a:isNaN(this.positionY)?this.offsetBaseTop=h-a/2|0:this.offsetBaseTop=h+Math.max(this.positionY,-a))}},render:function(){if(!this.deviceFallback){var a=f.scrollTop,b=f.scrollLeft,c=this.overScrollFix?f.overScroll:0,d=a+f.winHeight,e=this.boxOffsetBottom>=a&&this.boxOffsetTop<=d;this.mirrorTop=this.boxOffsetTop-a,this.mirrorLeft=this.boxOffsetLeft-b,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed),this.$mirror.css({transform:"translate3d(0px, 0px, 0px)",opacity:e?1:0,top:this.mirrorTop-c,left:this.mirrorLeft,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d(0px, 0px, 0px)",position:"absolute",top:this.offsetTop,left:this.offsetLeft,height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}},loadResponsiveImage:function(){if(this.responsive){var a=this.loadedImages[this.imageSrc];if("undefined"!=typeof a)this.setResponsiveImage(a);else{var b=new Image;b.onload=function(){this.loadedImages[this.imageSrc]=b,this.setResponsiveImage(b)}.bind(this),b.src=this.imageSrc}}},setResponsiveImageSrc:function(){if(this.responsive){for(var a=[],c=0,d=this.imageSources.length;d>c;c++){var e=this.imageSources[c].getAttribute("data-image-src"),f=this.imageSources[c].getAttribute("data-media-query");!e||f&&!b.mq(f)||a.push(e)}if(a.length){var g=a.pop(),h=new RegExp(g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));h.test(this.imageSrc)||(this.imageSrc=g,this.loadResponsiveImage())}}},setResponsiveImage:function(a){this.responsive&&(this.deviceFallback?this.$element.css({backgroundImage:'url("'+this.imageSrc+'")'}):(this.naturalWidth=a.width,this.naturalHeight=a.height,this.aspectRatio=this.naturalWidth/this.naturalHeight,this.$slider[0].src=this.imageSrc))}}),a.extend(f,{$win:a(c),$doc:a(d),scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){this.isReady||(this.$win.on("resize.px.parallax load.px.parallax",this.update).on("scroll.px.parallax load.px.parallax",this.scroll),this.update(),this.isReady=!0)},update:function(){f.winHeight=f.$win.height(),f.winWidth=f.$win.width(),f.docHeight=f.$doc.height(),f.docWidth=f.$doc.width(),f.isFresh=!1,f.requestRender()},scroll:function(){var a=f.docHeight-f.winHeight,b=f.docWidth-f.winWidth;f.scrollTop=Math.max(0,Math.min(a,f.$win.scrollTop())),f.scrollLeft=Math.max(0,Math.min(b,f.$win.scrollLeft())),f.overScroll=Math.max(f.$win.scrollTop()-a,Math.min(f.$win.scrollTop(),0)),f.requestRender()},configure:function(b){"object"==typeof b&&(delete b.refresh,delete b.render,a.extend(this.prototype,b))},refresh:function(){a.each(this.sliders,function(){this.refresh()}),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),a.each(this.sliders,function(){this.render()})},requestRender:function(){var a=this;this.isBusy||(this.isBusy=!0,c.requestAnimationFrame(function(){a.render(),a.isBusy=!1}))}});var h=a.fn.parallax;a.fn.parallax=g,a.fn.parallax.Constructor=f,a.fn.parallax.noConflict=function(){return a.fn.parallax=h,this},a(d).on("ready.px.parallax.data-api",function(){a('[data-parallax="scroll"]').parallax()})}(jQuery,window.CustomModernizr||window.Modernizr,window,document);